{% extends "layout.html" %} 

{% load static %} 

{% block title %}CIET PMU - User Dashboard{% endblock %} 

{% block content %} 

{% include "partials/navbar.html" %}
<div class="flex h-screen">
  <div class="max-w-4xl mx-auto p-6">
    <!-- Step Navigation -->
    <div class="flex justify-between items-center mb-8">
      <div class="flex items-center space-x-4">
        <div class="flex items-center">
          <div
            class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600"
          >
            1
          </div>
          <span class="ml-2 text-gray-600">Program</span>
        </div>
        <span class="text-gray-400"></span>
        <div class="flex items-center">
          <a href="#form-step-2"></a>
          <div
            class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600"
          >
            2
          </div>
          <span class="ml-2 text-gray-600">KPI</span>
        </div>
        <span class="text-gray-400"></span>
        <div class="flex items-center">
          <div
            class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600"
          >
            3
          </div>
          <span class="ml-2 text-gray-600">Workshops</span>
        </div>
        <span class="text-gray-400"></span>
        <div class="flex items-center">
          <div
            class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600"
          >
            4
          </div>
          <span class="ml-2 text-gray-600">Review Meetings</span>
        </div>
        <span class="text-gray-400"></span>
        <div class="flex items-center">
          <div
            class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600"
          >
            5
          </div>
          <span class="ml-2 text-gray-600">Manpower</span>
        </div>
      </div>
    </div>

    <!-- Form Steps -->
    {% comment %}
    <div id="form-container">
      <div id="form-step-1" class="step">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
          Program Details
        </h2>
        <div class="mb-4">
          <label class="block text-gray-700 mb-2">Program Title</label>
          <input
            type="text"
            id="program-title"
            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"
            required
          />
          <span class="error-message text-red-500 text-sm hidden"
            >Please enter a program title</span
          >
        </div>
        <div class="mt-6 flex justify-end">
          <button
            id="next-1"
            class="px-4 py-2 bg-purple-600 text-white rounded-lg disabled:opacity-50"
            disabled
          >
            Next
          </button>
        </div>
      </div>
      {% endcomment %}

      <h2 class="text-xl font-semibold text-gray-800 mb-4">
        My Assigned Programs
      </h2>

      {% if programs %}
      <div class="space-y-4">
        {% for program in programs %}
        <div class="p-4 border rounded-lg bg-gray-50">
          <p><strong>Program Type:</strong> {{ program.type }}</p>
          <p><strong>Program Title:</strong> {{ program.title }}</p>
          <p><strong>Budget:</strong> â‚¹{{ program.program_budget }}</p>
          <p>
            <strong>Created At:</strong> {{ program.created_at|date:"d M Y" }}
          </p>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <p class="text-gray-500">No programs assigned to you yet.</p>
      {% endif %}

      <div id="form-step-2" class="step hidden">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">KPI Details</h2>
        <p class="text-gray-600 mb-6">Enter KPI Information.</p>
        <div id="kpi-fields" class="space-y-4">
          <div class="kpi-field-set">
            <div>
              <input
                type="text"
                id="kpi-name-1"
                placeholder="KPI Name"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter KPI name</span
              >
            </div>
            <div>
              <input
                type="date"
                id="kpi-date-1"
                placeholder="KPI Date"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please select date</span
              >
            </div>
            <div>
              <input
                type="number"
                id="kpi-budget-1"
                placeholder="Budget"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter KPI budget</span
              >
            </div>
          </div>
        </div>
        <div class="mt-4 flex space-x-2">
          <button
            id="add-kpi"
            class="px-4 py-2 bg-green-600 text-white rounded-lg"
          >
            Add Subtask
          </button>
          <button
            id="remove-kpi"
            class="px-4 py-2 bg-red-600 text-white rounded-lg"
            disabled
          >
            Remove Subtask
          </button>
        </div>
        <div class="mt-6 flex justify-between">
          <button id="prev-2" class="px-4 py-2 bg-gray-200 rounded-lg">
            Previous
          </button>
          <button
            id="next-2"
            class="px-4 py-2 bg-purple-600 text-white rounded-lg disabled:opacity-50"
            disabled
          >
            Next
          </button>
        </div>
      </div>

      <div id="form-step-3" class="step hidden">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
          Workshop Details
        </h2>
        <p class="text-gray-600 mb-6">Enter Workshop Information.</p>
        <div id="workshop-fields" class="space-y-4">
          <div class="workshop-field-set">
            <div>
              <input
                type="text"
                id="workshop-title-1"
                placeholder="Workshop Title"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter workshop title</span
              >
            </div>
            <div>
              <input
                type="date"
                id="workshop-date-1"
                placeholder="Workshop Date"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please select workshop date</span
              >
            </div>
            <div>
              <input
                type="number"
                id="workshop-budget-1"
                placeholder="Budget"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter workshop budget</span
              >
            </div>
          </div>
        </div>
        <div class="mt-4 flex space-x-2">
          <button
            id="add-workshop"
            class="px-4 py-2 bg-green-600 text-white rounded-lg"
          >
            Add Workshop
          </button>
          <button
            id="remove-workshop"
            class="px-4 py-2 bg-red-600 text-white rounded-lg"
            disabled
          >
            Remove Workshop
          </button>
        </div>
        <div class="mt-6 flex justify-between">
          <button id="prev-3" class="px-4 py-2 bg-gray-200 rounded-lg">
            Previous
          </button>
          <button
            id="next-3"
            class="px-4 py-2 bg-purple-600 text-white rounded-lg disabled:opacity-50"
            disabled
          >
            Next
          </button>
        </div>
      </div>

      <div id="form-step-4" class="step hidden">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
          Review Meeting Details
        </h2>
        <p class="text-gray-600 mb-6">Enter Review Meeting Information.</p>
        <div id="meeting-fields" class="space-y-4">
          <div class="meeting-field-set">
            <div>
              <input
                type="text"
                id="meeting-title-1"
                placeholder="Meeting Title"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter meeting title</span
              >
            </div>
            <div>
              <input
                type="date"
                id="meeting-date-1"
                placeholder="Meeting Date"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please select meeting date</span
              >
            </div>
            <div>
              <input
                type="number"
                id="meeting-budget-1"
                placeholder="Budget"
                class="w-full p-2 border rounded-lg"
                required
              />
              <span class="error-message text-red-500 text-sm hidden"
                >Please enter meeting budget</span
              >
            </div>
          </div>
        </div>
        <div class="mt-4 flex space-x-2">
          <button
            id="add-meeting"
            class="px-4 py-2 bg-green-600 text-white rounded-lg"
          >
            Add Meeting
          </button>
          <button
            id="remove-meeting"
            class="px-4 py-2 bg-red-600 text-white rounded-lg"
            disabled
          >
            Remove Meeting
          </button>
        </div>
        <div class="mt-6 flex justify-between">
          <button id="prev-4" class="px-4 py-2 bg-gray-200 rounded-lg">
            Previous
          </button>
          <button
            id="next-4"
            class="px-4 py-2 bg-purple-600 text-white rounded-lg disabled:opacity-50"
            disabled
          >
            Next
          </button>
        </div>
      </div>

      <div id="form-step-5" class="step hidden">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
          Manpower Details
        </h2>
        <p class="text-gray-600 mb-6">Enter Manpower Information.</p>
        <div class="space-y-4">
          <div>
            <input
              type="text"
              id="manpower-count"
              placeholder="Number of People"
              class="w-full p-2 border rounded-lg"
              required
            />
            <span class="error-message text-red-500 text-sm hidden"
              >Please enter manpower count</span
            >
          </div>
          <div>
            <input
              type="date"
              id="manpower-date"
              placeholder="Manpower Date"
              class="w-full p-2 border rounded-lg"
              required
            />
            <span class="error-message text-red-500 text-sm hidden"
              >Please select date</span
            >
          </div>
          <div>
            <input
              type="number"
              id="manpower-budget"
              placeholder="Budget"
              class="w-full p-2 border rounded-lg"
              required
            />
            <span class="error-message text-red-500 text-sm hidden"
              >Please enter manpower budget</span
            >
          </div>
        </div>
        <div class="mt-6 flex justify-between">
          <button id="prev-5" class="px-4 py-2 bg-gray-200 rounded-lg">
            Previous
          </button>
          <button
            id="submit"
            class="px-4 py-2 bg-gray-200 rounded-lg disabled:opacity-50"
            disabled
          >
            Submit
          </button>
        </div>
      </div>
    </div>

    <!-- Submitted Program Card -->
    <div id="submitted-program" class="max-w-4xl mx-auto p-6 hidden">
      <div class="bg-white shadow-md rounded-lg p-4 mb-6">
        <h3
          class="text-xl font-bold text-gray-800 mb-2"
          id="submitted-program-title"
        ></h3>
        <div class="flex gap-4">
          <button
            id="view-program"
            class="px-4 py-2 bg-blue-500 text-white rounded"
          >
            View Program
          </button>
          <button
            id="edit-program"
            class="px-4 py-2 bg-blue-500 text-white rounded"
          >
            Edit Program
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
